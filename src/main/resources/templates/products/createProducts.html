<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">

<title>Add Product</title>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-md-8 mx-auto rounded border p-4 m-4">
				<h2 class="text-center mb-5"><u>Add New Product</u></h2>

				<form method="post" enctype="multipart/form-data"
					th:object="${productsDto}">

					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Name</label>
						<div class="col-sm-8">
							<!-- Properly bind the field -->
							<input class="form-control" th:field="${productsDto.name}" />
							<!-- Display validation errors if present -->
							<p th:if="${#fields.hasErrors('name')}" class="text-danger"
								th:text="${#fields.errors('name')}"></p>
						</div>
					</div>

					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Brand</label>
						<div class="col-sm-8">
							<input class="form-control" th:field="${productsDto.brand}">
							<p th:if="${#fields.hasErrors('brand')}" class="text-danger"
								th:text="${#fields.errors('brand')}"></p>
						</div>

					</div>
					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Category</label>
						<div class="col-sm-8">
							<select class="form-select" th:field="${productsDto.category}">
								<option value="other">Other</option>
								<option value="Phones">Phones</option>
								<option value="Computers">Computers</option>
								<option value="Accessories">Accessories</option>
								<option value="Printers">Printers</option>
								<option value="Cameras">Cameras</option>

							</select>
							<p th:if="${#fields.hasErrors('category')}"
								th:errorclass="text-danger" th:error="${productsDto.category}"></p>
						</div>

					</div>

					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Price</label>
						<div class="col-sm-8">
							<input class="form-control" type="number" step="0.01" min="0"
								th:field="${productsDto.price}">
							<p th:if="${#fields.hasErrors('price')}"
								th:errorclass="text-danger" th:error="${productsDto.price}"></p>
						</div>

					</div>

					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Description</label>
						<div class="col-sm-8">
							<textarea class="form-control"
								th:field="${productsDto.description}"></textarea>
							<p th:if="${#fields.hasErrors('description')}"
								class="text-danger" th:text="${#fields.errors('description')}"></p>
						</div>

					</div>

					<div class="row mb-3">
						<label class="col-sm-4 col-form-label">Image</label>
						<div class="col-sm-8">
							<!-- Properly bind the file input -->
							<input class="form-control" type="file" th:field="${productsDto.imageFile}" />
							<!-- Display validation errors if present -->
							<p th:if="${#fields.hasErrors('imageFile')}" class="text-danger"
								th:text="${#fields.errors('imageFile')}"></p>
						</div>
					</div>

					<div class="row">

						<div class="col-sm-8">
							<button class="byn btn-primary" type="submit">Submit</button>
						</div>
						<div class="col-sm-4 d-grid">
							<a class="btn btn-outline-primary" href="/products" role="button">Cancel</a>
						</div>

					</div>
				</form>

			</div>

		</div>

	</div>


	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>


</body>
</html>